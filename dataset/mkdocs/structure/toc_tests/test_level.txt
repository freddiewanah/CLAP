def get_markdown_toc(markdown_source):
    """Return TOC generated by Markdown parser from Markdown source text."""
    md = markdown.Markdown(extensions=['toc'])
    md.convert(markdown_source)
    return md.toc_tokens

----------

def test_level(self):
    md = dedent('\n            # Heading 1\n            ## Heading 1.1\n            ### Heading 1.1.1\n            ### Heading 1.1.2\n            ## Heading 1.2\n            ')
    toc = get_toc(get_markdown_toc(md))

    def get_level_sequence(items):
        for item in items:
            yield item.level
            yield from get_level_sequence(item.children)
    self.assertEqual(tuple(get_level_sequence(toc)), (1, 2, 3, 3, 2))

----------



Test Class Name: TableOfContentsTests